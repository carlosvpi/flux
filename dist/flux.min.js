!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Flux=e()}}(function(){return function e(t,s,i){function r(u,o){if(!s[u]){if(!t[u]){var h="function"==typeof require&&require;if(!o&&h)return h(u,!0);if(n)return n(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=s[u]={exports:{}};t[u][0].call(l.exports,function(e){return r(t[u][1][e]||e)},l,l.exports,e,t,s,i)}return s[u].exports}for(var n="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(e,t,s){t.exports=e("./lib/flux.js")},{"./lib/flux.js":2}],2:[function(e,t,s){class i{constructor(e,t){this._value=void 0,this._done=!1,this._subscriptions=new Set([]),this._cleanerArg=e&&e.call(this,this.push.bind(this),this.end.bind(this),this.value.bind(this)),this._cleaner=t&&t.bind(this),this.pop=this.pop.bind(this)}value(){return this._value}done(){return this._done}touch(){return this._done?this:(this._subscriptions.forEach(e=>e(this._value,this._done)),this)}push(e){return this._done?this:(this._value=e,this._subscriptions.forEach(e=>e(this._value,this._done)),this)}end(){return this._done?this:(this._done=!0,this._subscriptions.forEach(e=>e(this._value,this._done)),delete this._subscriptions,this.cleaner&&this.cleaner(this._cleanerArg),this)}pushEnd(e,t){return t?this.end():this.push(e),this}pop(...e){return e.forEach(e=>{this.subscribe(e),e(this._value,this._done)}),this}subscribe(...e){return this._done?this:(e.forEach(e=>this._subscriptions.add(e)),this)}unsubscribe(...e){return this._done?this:(e.forEach(e=>this._subscriptions.delete(e)),this)}map(e){return new i((t,s)=>{t(e(this._value)),this.subscribe((i,r)=>{r?s():t(e(i))})})}reduce(e,t){return new i((s,i,r)=>{s(t),this.subscribe((t,n)=>{(n?i:s)(e(r(),t))})})}filter(e){return new i((t,s,i)=>{e(this._value)&&t(this._value),this.subscribe((i,r)=>{r&&s(),e(i)&&t(i)})})}compact(){return this.filter(e=>!!e)}reject(e){return new i((t,s,i)=>{!e(this._value)&&t(this._value),this.subscribe((i,r)=>{r&&s(),!e(i)&&t(i)})})}last(e){return new i((t,s,i)=>{t([]),this.subscribe((r,n)=>{let u=i();u.length===e&&(u=u.slice(0,u.length-1)),(n?s:t)([r,...u])})})}toPromise(){return new Promise((e,t)=>{const s=(i,r)=>{!r&&e(i),r&&t(i),this.unsubscribe(s)};this.subscribe(s)})}mergeRace(...e){return i.mergeRace(this,...e)}mergeAll(...e){return i.mergeAll(this,...e)}debounce(e){return new i((t,s,i)=>{let r=null;this.subscribe((i,n)=>{null!==r&&clearTimeout(r),n?s():r=setTimeout(()=>{t(i)},e)})})}throttle(e){return new i((t,s,i)=>{let r=null,n=null;this.subscribe((i,u)=>{if(u)return r&&(t(n),clearTimeout(r)),void s();null===r&&(t(n=i),r=setTimeout(()=>{},e))})})}}i.mergeRace=(...e)=>new i((t,s,i)=>{e.forEach(e=>{e.subscribe((e,i)=>{i?s():t(e)})})}),i.mergeAll=(...e)=>new i((t,s,i)=>{e.forEach(i=>{i.subscribe((i,r)=>{e.every(e=>e.done())?s():t(i)})})}),i.fromTimeout=e=>i.fromPromiseFactory(t=>{const s=r(e);return t.clear=s.cancel,s}),i.fromInterval=e=>new i(t=>setInterval(t,e),e=>clearInterval(e)),i.fromPromiseFactory=e=>{const t={clear:()=>{}};return new i(async s=>{s(await e(t))},()=>{t.clear()})},i.push=e=>t=>t(e),i.fromEvent=(e,t,s)=>new i(i=>{e.addEventListener(t,i,s)},()=>{e.removeEventListener(t,push,s)}),i.compound=(...e)=>new i((t,s,i)=>{t(e.map(e=>e.value())),e.forEach(s=>{s.subscribe(()=>t(e.map(e=>e.value())))})}),i.collect=e=>new i(function(t,s,r){t([]),e.subscribe((e,s)=>{t([...r(),e]),e.subscribe(i.onDone(()=>{t(r().filter(t=>t!==e))}),i.onContinue(()=>{this.touch()}))})}),i.onContinue=e=>(t,s)=>!s&&e(t),i.onDone=e=>(t,s)=>s&&e(t);const r=e=>{let t,s;const i=new Promise((i,r)=>{s=r,t=setTimeout(()=>{t=null,i()},e)});return i.cancel=()=>!!t&&(clearTimeout(t),s(),!0),i};t.exports=i},{}]},{},[1])(1)});
